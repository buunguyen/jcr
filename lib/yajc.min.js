(function(e){var t={isTouchDevice:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},slice:function(e){return Array.prototype.slice.apply(e,Array.prototype.slice.call(arguments,1))},is$:function(t){return t instanceof e},isUndefined:function(e){return typeof e=="undefined"}};e.each(["Array","Function","Number","String","Date","Arguments","RegExp"],function(e,n){t["is"+n]=function(e){return e!==null&&typeof e!="undefined"&&Object.prototype.toString.call(e)==="[object "+n+"]"}});var n={_slideList:function(t,n,r,i,s){if(r===i)return;var o=t.data("options").msPer100px,u=t.width(),a=n.outerWidth(!0),f=-(a-u),l=s.callback||e.noop;i>0?i=0:i<f&&(i=f);if(i===r)return;n.stop(!0,!1),o===0?(n.css("left",i),l()):n.animate({left:i},{duration:Math.abs(i-r)/100*o,queue:!1,easing:s.easing,complete:l})},init:function(n){return this.each(function(){var r=e(this).append('<div class="yajc"><ul class="items"></ul></div>');r.data("options",e.extend({},e.fn.yajc.defaults,n)),t.isTouchDevice()&&r.find(".yajc").addClass("touch"),e(window).resize(function(){r.yajc("refresh")}),r.yajc("refresh")})},add:function(n,r,i){return this.each(function(){var s=e(this),o=s.find(".items"),u=s.data("options").addDuration;t.is$(n)||(n=e(n)),t.isFunction(r)&&t.isUndefined(i)&&(i=r),t.isNumber(r)||(r=o.children().length);var a=function(){s.yajc("refresh"),i&&i()};u>0&&n.hide(),r===0?n.prependTo(o):o.find("li:nth-child("+r+")").after(n),u>0?n.show(u,a):a()})},remove:function(n,r){return this.each(function(){var i=e(this),s=i.find(".items"),o=i.data("options").removeDuration;t.isNumber(n)?n=s.find("li:nth-child("+(n+1)+")"):n instanceof e||(n=e(n));var u=function(){n.remove(),i.yajc("refresh"),r&&r()};o===0?u():n.hide(o,u)})},show:function(r,i){return this.each(function(){var s=e(this),o=s.find(".items"),u=o.children(),a=s.width(),f=o.position().left,l=0,c,h;if(t.isString(r)){if(r!=="next"&&r!=="prev"&&r!=="previous")return e.error("Invalid string target"),!1;h=f,u.each(function(t){c=e(this).outerWidth(!0);if(h+c>=a/2)return r==="next"?r=Math.min(t+1,u.length-1):(h+c===a/2&&t++,r=Math.max(t-1,0)),!1;h+=c})}!t.isNumber(r)&&!t.is$(r)&&(r=e(r)),u.each(function(t){c=e(this).outerWidth(!0);if(t===r||this===r[0])return l+=a/2-c/2,n._slideList(s,o,f,l,{easing:s.data("options").showEasing,callback:i}),!1;l-=c})})},slide:function(r,i){return this.each(function(){var s=e(this),o=s.find(".items"),u=o.position().left;t.isString(r)&&(r=e.trim(r),r.indexOf("+=")===0||r.indexOf("-=")===0?r=(r.indexOf("-=")===0?-1:1)*(parseInt(r.substring(2),10)||0)+u:r=parseInt(r.substring(2),10)||0),n._slideList(s,o,u,r,{easing:s.data("options").slideEasing,callback:i})})},stop:function(){return this.each(function(){var t=e(this);t.find(".items").stop(!0,!0)})},refresh:function(t){return this.each(function(){var r=e(this),i=r.width(),s=r.height(),o=r.find(".items"),u=0,a=0,f,l;o.children().each(function(){var t=e(this),n=t.outerHeight(!0);u+=t.outerWidth(!0),a<n&&(a=n)}),s===0&&r.height(a),o.height(r.height()+"px").width(Math.max(i,u)+"px"),l=o.position().left,f=o.outerWidth(!0)+l,f<i?n._slideList(r,o,l,l+(i-f),{easing:r.data("options").slideEasing,callback:t}):t&&t()})}};e.fn.yajc=function(n){var r=e.fn.yajc.plugins;if(typeof n=="object"||!n)return r.init.apply(this,arguments);if(r[n])return r[n].apply(this,t.slice(arguments,1));e.error("Method "+n+" does not exist on jQuery.yajc")},e.fn.yajc.plugins={},e.each(n,function(t,n){if(t.indexOf("_")===0)return;e.fn.yajc.plugins[t]=n}),e.fn.yajc.defaults={addDuration:0,removeDuration:0,msPer100px:100,showEasing:"swing",slideEasing:"linear"},e.fn.yajc.plugins.selectOn=function(t,n,r){return this.each(function(){var n=e(this),r=r||!0,i=i||e.noop;n.find("li").live(t,function(t){var s=this,o=e(s);o.addClass("selected").siblings().removeClass("selected"),r?n.yajc("show",o,function(){i.call(s)}):i()})})},e.fn.yajc.plugins.hoverSlide=function(t){var n=function(e,t){return parseInt(e.css(t),10)||0};return this.each(function(){var r=e(this),i=r.find(".items");i.mousemove(function(e){var s=r.width(),o=i.width()-s,u=r.offset().left+n(r,"padding-left")+n(r,"margin-left")+n(r,"border-left"),a=e.pageX-u,f=a*o/s;r.yajc("stop").yajc("slide",-f,function(){t&&t()})})})},e.fn.yajc.plugins.wings=function(n){return this.each(function(){var r=e(this),i=r.find(".items"),s=e('<a class="wing backward" href="javascript:void(0)"><p>‹</p></a>'),o=e('<a class="wing forward" href="javascript:void(0)"><p>›</p></a>'),u=s.add(o),a=t.isTouchDevice();n=e.extend({},{style:"pad",showOnHover:!0,snap:!1},n);var f=function(e){r.data("sliding")&&(n.snap?r.yajc("show",e?"next":"prev"):r.yajc("slide","+="+(e?-10:10),function(){f(e)}))},l=function(){r.data("sliding",!0),n.snap&&r.yajc("stop"),e(this).addClass("on"),f(this===o[0])},c=function(){r.data("sliding",!1),n.snap||r.yajc("stop"),e(this).removeClass("on")};u.addClass(n.style).appendTo(r.find(".yajc")),n.showOnHover&&!a&&(u.hide(),r.hover(function(){u.stop(!0,!0).fadeIn()},function(){u.stop(!0,!0).fadeOut()})),n.snap||a?u.on(a?"touchstart":"mousedown",l).on(a?"touchend":"mouseup mouseout",c):u.hover(l,c)})}})(jQuery);