(function(e){var t={isTouchDevice:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},slice:function(e){return Array.prototype.slice.apply(e,Array.prototype.slice.call(arguments,1))},is$:function(t){return t instanceof e},isUndefined:function(e){return typeof e=="undefined"}};e.each(["Array","Function","String","Number","Date","Arguments","RegExp"],function(e,n){t["is"+n]=function(e){return e&&Object.prototype.toString.call(e)==="[object "+n+"]"}});var n={_slideList:function(n,r,i,s,o){if(t.isTouchDevice())return;if(i===s)return;var u=n.data("options").msPer100px,a=n.width(),f=r.outerWidth(!0),l=-(f-a);s>0?s=0:s<l&&(s=l);if(s===i)return;r.stop(!0,!1),u===0?(r.css("left",s),o.callback&&o.callback()):r.animate({left:s},{duration:Math.abs(s-i)/100*u,queue:!1,easing:o.easing,complete:o.callback||e.noop})},init:function(n){return this.each(function(){var r=e(this).append('<div class="yajc"><ul class="items"></ul></div>');r.data("options",e.extend({},e.fn.yajc.defaults,n)),t.isTouchDevice()&&r.find(".yajc").addClass("touch"),e(window).resize(function(){r.yajc("refresh")}),r.yajc("refresh")})},add:function(n,r,i){return this.each(function(){var s=e(this),o=s.find(".items"),u=s.data("options").addDuration;t.is$(n)||(n=e(n)),t.isFunction(r)&&t.isUndefined(i)&&(i=r),t.isNumber(r)||(r=o.children().length);var a=function(){s.yajc("refresh"),i&&i()};u===0?(r===0?n.prependTo(o):o.find("li:nth-child("+r+")").after(n),a()):r===0?n.hide().prependTo(o).show(u,a):(o.find("li:nth-child("+r+")").after(n.hide()),n.show(u,a))})},remove:function(n,r){return this.each(function(){var i=e(this),s=i.find(".items"),o=i.data("options").removeDuration;t.isNumber(n)?n=s.find("li:nth-child("+(n+1)+")"):n instanceof e||(n=e(n));var u=function(){n.remove(),i.yajc("refresh"),r&&r()};o===0?u():n.hide(o,u)})},show:function(r,i){return this.each(function(){var s=e(this),o=s.find(".items"),u=o.children(),a=s.width(),f=0,l=!1;!t.isNumber(r)&&!t.is$(r)&&(r=e(r));for(var c=0;c<u.length;c++){if(c===r||u[c]===r[0]){r=e(u[c]),l=!0;break}f-=e(u[c]).outerWidth(!0)}if(!l)return;f+=a/2-r.width()/2,n._slideList(s,o,o.position().left,f,{easing:s.data("options").showEasing,callback:i})})},slide:function(r,i){return this.each(function(){var s=e(this),o=s.find(".items"),u=o.position().left;t.isString(r)&&(r=e.trim(r),r.indexOf("+=")===0||r.indexOf("-=")===0?r=(r.indexOf("-=")===0?-1:1)*(parseInt(r.substring(2),10)||0)+u:r=parseInt(r.substring(2),10)||0),n._slideList(s,o,u,r,{easing:s.data("options").slideEasing,callback:i})})},stop:function(){return this.each(function(){var t=e(this);t.find(".items").stop(!0,!0)})},refresh:function(t){return this.each(function(){var r=e(this),i=r.width(),s=r.height(),o=r.find(".items"),u=0,a=0,f,l;o.children().each(function(){var t=e(this),n=t.outerHeight(!0);u+=t.outerWidth(!0),a<n&&(a=n)}),s===0&&r.height(a),o.height(r.height()+"px").width(Math.max(i,u)+"px"),l=o.position().left,f=o.outerWidth(!0)+l,f<i?n._slideList(r,o,l,l+(i-f),{easing:r.data("options").slideEasing,callback:t}):t&&t()})}};e.fn.yajc=function(n){var r=e.fn.yajc.plugins;if(typeof n=="object"||!n)return r.init.apply(this,arguments);if(r[n])return r[n].apply(this,t.slice(arguments,1));e.error("Method "+n+" does not exist on jQuery.yajc")},e.fn.yajc.plugins={},e.each(n,function(t,n){if(t.indexOf("_")===0)return;e.fn.yajc.plugins[t]=n}),e.fn.yajc.defaults={addDuration:0,removeDuration:0,msPer100px:100,showEasing:"swing",slideEasing:"linear"},e.fn.yajc.plugins.clickSelect=function(n){return this.each(function(){if(t.isTouchDevice())return;var r=e(this),i=t.isTouchDevice()?"touchstart":"click";r.find("li").live(i,function(t){var i=this,s=e(i);s.addClass("selected").siblings().removeClass("selected"),r.yajc("show",s,function(){n&&n.call(i)})})})},e.fn.yajc.plugins.hoverSlide=function(n){var r=function(e,t){return parseInt(e.css(t),10)||0};return this.each(function(){if(t.isTouchDevice())return;var i=e(this),s=i.find(".items");s.mousemove(function(e){var t=i.width(),o=s.width()-t,u=i.offset().left+r(i,"padding-left")+r(i,"margin-left")+r(i,"border-left"),a=e.pageX-u,f=a*o/t;i.yajc("stop").yajc("slide",-f,function(){n&&n()})})})},e.fn.yajc.plugins.wings=function(n){return this.each(function(){if(t.isTouchDevice())return;var r=e(this),i=r.find(".items"),s=e('<a class="wing backward" href="javascript:void(0)"><p>‹</p></a>'),o=e('<a class="wing forward" href="javascript:void(0)"><p>›</p></a>'),u=s.add(o),a=function(e){r.data("sliding")&&r.yajc("slide","+="+e,function(){a(e)})};u.addClass(n=n||"pad").appendTo(r.find(".yajc")).hide().hover(function(){r.data("sliding",!0),e(this).addClass("on"),a(10*(this===s[0]?1:-1))},function(){r.data("sliding",!1).yajc("stop"),e(this).removeClass("on")}),r.hover(function(){u.stop(!0,!0).fadeIn()},function(){u.stop(!0,!0).fadeOut()})})}})(jQuery);